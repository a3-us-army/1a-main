<!DOCTYPE html>
<html>
  <head>
    <title>About 1A – 1st Battalion, 75th Ranger Regiment</title>
    <meta content="1A Website" property="og:title" />
    <meta content="Welcome to 1A!" property="og:description" />
    <meta content="https://1a75.org/about" property="og:url" />
    <meta content="https://cdn.xanderxx.xyz/1a-logo.png" property="og:image" />
    <meta content="#4b5a2a" data-react-helmet="true" name="theme-color" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
    />
    <link rel="icon" href="/favicon.ico" />
    <link rel="stylesheet" href="/custom.css" />

    <style>
      .about-section {
        background: #23272f !important;
        color: #f8f6f2 !important;
        border-radius: 1rem;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        padding: 2.5rem 1.5rem 2rem 1.5rem;
        margin-top: 2rem;
        margin-bottom: 2.5rem;
        border: 1.5px solid #ffe066;
      }
      .about-title {
        color: #ffe066 !important;
        font-weight: 700;
        font-size: 2rem;
        margin-bottom: 0.5rem;
      }
      .about-subtitle {
        color: #f8f6f2 !important;
        font-size: 1.2rem;
        margin-bottom: 1.5rem;
      }
      .about-link {
        color: #ffe066 !important;
        font-weight: 500;
        text-decoration: underline;
      }
      .about-link:hover {
        color: #fffbe6 !important;
        text-decoration: underline;
      }
      .about-section h2,
      .about-section h3 {
        color: #ffe066 !important;
        font-weight: 600;
        margin-top: 2rem;
        margin-bottom: 1rem;
      }
      .about-section ul {
        margin-bottom: 1.5rem;
      }
      .about-section li {
        margin-bottom: 0.5rem;
      }
      .form-help {
        color: #bdb76b !important;
        font-size: 0.97em;
      }
      .about-cta {
        margin-top: 2.5rem;
        text-align: center;
      }
      .about-cta a {
        font-size: 1.2rem;
        font-weight: 600;
        padding: 0.8rem 2rem;
        border-radius: 0.5rem;
        background: #ffe066;
        color: #23272f !important;
        text-decoration: none;
        transition:
          background 0.15s,
          color 0.15s;
        display: inline-block;
        border: none;
      }
      .about-cta a:hover {
        background: #b68900;
        color: #fffbe6 !important;
        text-decoration: none;
      }
      @media (max-width: 600px) {
        .about-section {
          padding: 1.2rem 0.5rem 1rem 0.5rem;
        }
        .about-title {
          font-size: 1.3rem;
        }
        .about-subtitle {
          font-size: 1rem;
        }
      }

      /* Gallery Styles */
      .gallery-section {
        margin-top: 3rem;
        margin-bottom: 3rem;
      }

      .gallery-title {
        color: #ffe066 !important;
        font-weight: 700;
        font-size: 2rem;
        text-align: center;
        margin-bottom: 2rem;
      }

      .gallery-main-container {
        position: relative;
        max-width: 800px;
        margin: 0 auto;
        background: rgba(44, 49, 58, 0.8);
        border-radius: 16px;
        padding: 2rem;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
      }

      .gallery-main-image-container {
        position: relative;
        margin-bottom: 1rem;
      }

      .gallery-main-image {
        width: 100%;
        height: 400px;
        object-fit: cover;
        border-radius: 12px;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
      }

      .gallery-nav-btn {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background: rgba(255, 224, 102, 0.9);
        border: none;
        color: #23272f;
        font-size: 1.5rem;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        cursor: pointer;
        transition: all 0.3s ease;
        z-index: 10;
      }

      .gallery-nav-btn:hover {
        background: rgba(255, 224, 102, 1);
        transform: translateY(-50%) scale(1.1);
      }

      .gallery-nav-btn.prev {
        left: -25px;
      }

      .gallery-nav-btn.next {
        right: -25px;
      }

      .gallery-thumbnails {
        display: flex;
        gap: 0.5rem;
        justify-content: center;
        flex-wrap: wrap;
        margin-top: 1rem;
      }

      .gallery-thumbnail {
        width: 80px;
        height: 60px;
        object-fit: cover;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
        border: 2px solid transparent;
      }

      .gallery-thumbnail:hover {
        transform: scale(1.05);
        border-color: #ffe066;
      }

      .gallery-thumbnail.active {
        border-color: #ffe066;
        box-shadow: 0 0 10px rgba(255, 224, 102, 0.5);
      }

      /* Image Modal */
      .image-modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.9);
        backdrop-filter: blur(5px);
      }

      .image-modal-content {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        display: flex;
        flex-direction: column;
        align-items: center;
        max-width: 80%;
        max-height: 80%;
        background: linear-gradient(135deg, #2c313a 0%, #3a3f4a 100%);
        border-radius: 16px;
        padding: 2rem;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
      }

      .image-modal img {
        width: auto;
        max-width: 100%;
        max-height: 60vh;
        object-fit: contain;
        border-radius: 12px;
        margin-bottom: 1rem;
      }

      .image-modal-description {
        color: #ffffff;
        font-size: 1.1rem;
        line-height: 1.6;
        text-align: center;
        max-width: 600px;
        word-wrap: break-word;
      }

      .image-modal-close {
        position: absolute;
        top: 1rem;
        right: 1rem;
        background: rgba(255, 224, 102, 0.9);
        border: none;
        color: #23272f;
        font-size: 1.5rem;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .image-modal-close:hover {
        background: rgba(255, 224, 102, 1);
        transform: scale(1.1);
      }

      @media (max-width: 768px) {
        .gallery-nav-btn {
          width: 40px;
          height: 40px;
          font-size: 1.2rem;
        }

        .gallery-nav-btn.prev {
          left: -20px;
        }

        .gallery-nav-btn.next {
          right: -20px;
        }

        .gallery-main-image {
          height: 300px;
        }

        .gallery-thumbnail {
          width: 60px;
          height: 45px;
        }

                 .image-modal-content {
           max-width: 95%;
           padding: 1rem;
         }
       }
    </style>
  </head>
  <body>
    <%- include("partials/navbar", { user, active }) %>
    <main id="main-content">
      <div class="container">
        <div class="about-section mx-auto">
          <div class="text-center mb-4">
            <div class="about-title">
              1A – 1st Battalion, 75th Ranger Regiment, Alpha Company [NEW | NA]
            </div>
            <div class="about-subtitle">
              <strong>Type:</strong> U.S. Army Ranger Milsim<br />
              <strong>Timezone:</strong> US Central (CST/CDT)<br />
              <strong>Operations:</strong> Realism-focused, Custom Zeus
              Operations<br />
              <strong>Game:</strong> Arma 3<br />
              <strong>Comms:</strong> TeamSpeak + ACRE2
            </div>
          </div>
          <h2>What We’re About</h2>
          <p>
            1A is a MILSIM unit modeled after the 75th Ranger Regiment during
            the Global War on Terror, specifically around the 2009 era. We
            emphasize tight coordination, disciplined operations, and high
            standards without the unnecessary roleplay. This isn’t a "yes sir,
            no sir" unit — we’ve cut out the formalities to focus on what
            matters: using Arma 3 to its full tactical potential.
          </p>
          <p>
            <a
              class="about-link"
              href="https://docs.google.com/spreadsheets/d/11b5ZnMwxw3qj66q3-PMy0YHFOn5Th_I-NnsJH5cRrF4/edit?usp=sharing"
              target="_blank"
            >
              <i class="bi bi-list-task me-1"></i>Click Here To Find Out What
              Roles are Available!
            </a>
          </p>
          <h2>Schedule</h2>
          <ul>
            <li>
              <strong>Main Ops:</strong> Saturday and Sunday Evening (1900 CST)
            </li>
            <li>
              <strong>Attendance:</strong> Be present or check in. Communication
              is expected. Real life comes first, but accountability still
              matters.
            </li>
          </ul>
          <h2>Requirements</h2>
          <ul>
            <li>
              Arma 3 with required mods (RHS, ACE, ACRE2, etc.)<br />
              <span class="form-help"
                >Have storage space to install modpack ~76.16 Gb</span
              >
            </li>
            <li>Working mic + headset</li>
            <li>
              Ability to follow orders, stay disciplined, and not screw around
            </li>
            <li>Must speak and be able to understand fluent English</li>
          </ul>
          <h2>How to Join</h2>
          <p>
            Jump into our Discord, check out the rules, and submit an
            application.<br />
            <a
              class="about-link"
              href="https://discord.gg/RAQwxfbu5H"
              target="_blank"
            >
              <i class="bi bi-discord me-1"></i>Discord: Click Here!
            </a>
          </p>
          <div class="about-cta">
            <a href="/apply"
              ><i class="bi bi-file-earmark-text me-1"></i>Submit Your
              Application</a
            >
          </div>
        </div>
      </div>

      <!-- Photo Gallery Section -->
      <% if (galleryImages && galleryImages.length > 0) { %>
      <div class="gallery-section">
        <h2 class="gallery-title">
          <i class="bi bi-images me-2"></i>Photo Gallery
        </h2>
        
        <div class="gallery-main-container">
          <div class="gallery-main-image-container">
            <img id="mainImage" src="/uploads/gallery/<%= galleryImages[0].filename %>" alt="<%= galleryImages[0].original_name %>" class="gallery-main-image" onclick="openImageModal(0)">
            <button class="gallery-nav-btn prev" onclick="previousImage()">
              <i class="bi bi-chevron-left"></i>
            </button>
            <button class="gallery-nav-btn next" onclick="nextImage()">
              <i class="bi bi-chevron-right"></i>
            </button>
          </div>
          
          <div class="gallery-thumbnails">
            <% galleryImages.forEach((image, index) => { %>
              <img src="/uploads/gallery/<%= image.filename %>" 
                   alt="<%= image.original_name %>" 
                   class="gallery-thumbnail <%= index === 0 ? 'active' : '' %>"
                   onclick="showImage(<%= index %>)"
                   data-index="<%= index %>">
            <% }) %>
          </div>
        </div>
      </div>
      <% } %>

      <!-- Image Modal -->
      <div id="imageModal" class="image-modal" onclick="closeImageModal()">
        <div class="image-modal-content" onclick="event.stopPropagation()">
          <button class="image-modal-close" onclick="closeImageModal()">
            <i class="bi bi-x"></i>
          </button>
          <img id="modalImage" src="" alt="">
          <div id="modalDescription" class="image-modal-description"></div>
        </div>
      </div>
    </main>
    <%- include("partials/footer") %>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
      // Gallery functionality
      let currentImageIndex = 0;
      let autoRotateInterval;
      const galleryImages = <%- JSON.stringify(galleryImages || []) %>;
      
      function showImage(index) {
        if (index < 0 || index >= galleryImages.length) return;
        
        currentImageIndex = index;
        const image = galleryImages[index];
        
        // Update main image
        document.getElementById('mainImage').src = `/uploads/gallery/${image.filename}`;
        document.getElementById('mainImage').alt = image.original_name;
        
        // Update thumbnails
        document.querySelectorAll('.gallery-thumbnail').forEach((thumb, i) => {
          thumb.classList.toggle('active', i === index);
        });
        
        // Update main image onclick
        document.getElementById('mainImage').onclick = () => openImageModal(index);
      }
      
      function nextImage() {
        const nextIndex = (currentImageIndex + 1) % galleryImages.length;
        showImage(nextIndex);
      }
      
      function previousImage() {
        const prevIndex = currentImageIndex === 0 ? galleryImages.length - 1 : currentImageIndex - 1;
        showImage(prevIndex);
      }
      
      function openImageModal(index) {
        const image = galleryImages[index];
        document.getElementById('modalImage').src = `/uploads/gallery/${image.filename}`;
        document.getElementById('modalImage').alt = image.original_name;
        document.getElementById('modalDescription').textContent = image.description || '';
        document.getElementById('imageModal').style.display = 'block';
        stopAutoRotate();
      }
      
      function closeImageModal() {
        document.getElementById('imageModal').style.display = 'none';
        startAutoRotate();
      }
      
      function startAutoRotate() {
        if (galleryImages.length > 1) {
          autoRotateInterval = setInterval(nextImage, 5000);
        }
      }
      
      function stopAutoRotate() {
        if (autoRotateInterval) {
          clearInterval(autoRotateInterval);
          autoRotateInterval = null;
        }
      }
      
      function restartAutoRotate() {
        stopAutoRotate();
        startAutoRotate();
      }
      
      // Setup image click handlers
      function setupImageClick() {
        document.querySelectorAll('.gallery-thumbnail').forEach((thumb, index) => {
          thumb.onclick = () => showImage(index);
        });
      }
      
      // Initialize gallery
      if (galleryImages.length > 0) {
        setupImageClick();
        startAutoRotate();
        
        // Pause auto-rotation on hover
        const mainContainer = document.querySelector('.gallery-main-container');
        if (mainContainer) {
          mainContainer.addEventListener('mouseenter', stopAutoRotate);
          mainContainer.addEventListener('mouseleave', startAutoRotate);
        }
      }
      
      // Keyboard navigation
      document.addEventListener('keydown', (e) => {
        if (document.getElementById('imageModal').style.display === 'block') {
          if (e.key === 'Escape') {
            closeImageModal();
          } else if (e.key === 'ArrowLeft') {
            previousImage();
          } else if (e.key === 'ArrowRight') {
            nextImage();
          }
        }
      });
    </script>
  </body>
</html>
