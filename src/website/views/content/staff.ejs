<!DOCTYPE html>
<html>
  <head>
    <title>Meet the Staff - 1A 75th</title>
    <meta content="Meet the Staff" property="og:title" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" />
    <link rel="stylesheet" href="/custom.css" />
    <style>
      body { background: var(--ranger-bg, #241d1d); color: #fff; }
      .staff-card { background: #2b2b2b; border-radius: 16px; overflow: hidden; border: 1px solid rgba(255,255,255,0.08); }
      .staff-banner { height: 160px; width: 100%; object-fit: cover; background: linear-gradient(135deg, #3b3b3b, #1f1f1f); }
      .staff-avatar { width: 96px; height: 96px; border-radius: 50%; border: 4px solid #fff; margin-top: -48px; object-fit: cover; }
      .staff-title { color: var(--ranger-gold, #e1b84c); font-weight: 700; }
      .staff-image { max-width: 100%; border-radius: 12px; border: 1px solid rgba(255,255,255,0.1); }
    </style>
  </head>
  <body>
    <%- include("../partials/navbar", { user, active }) %>
    <main class="container py-4">
      <div class="d-flex align-items-center justify-content-between mb-3">
        <h1 class="h3 m-0">Meet the Staff</h1>
        <% if (user) { %>
          <a class="btn btn-outline-light btn-sm" href="/staff/edit"><i class="bi bi-pencil"></i> Edit My Staff Profile</a>
        <% } %>
      </div>
      <div class="row g-4">
        <% staffUsers.forEach(({ profile, user: duser, avatarUrl, bannerUrl, displayName }) => { %>
          <div class="col-12 col-md-6 col-lg-4">
            <div class="staff-card h-100">
              <% if (bannerUrl) { %>
                <img src="<%= bannerUrl %>" class="staff-banner" alt="Banner" />
              <% } else { %>
                <div class="staff-banner"></div>
              <% } %>
              <div class="p-3">
                <div class="d-flex align-items-center gap-3">
                  <img src="<%= avatarUrl %>" class="staff-avatar" alt="Avatar" />
                  <div>
                    <div class="h5 m-0"><%= displayName %></div>
                    <% if (profile.title) { %><div class="staff-title"><%= profile.title %></div><% } %>
                  </div>
                </div>
                <% if (profile.image_filename) { %>
                  <div class="mt-3">
                    <img src="/uploads/staff/<%= profile.image_filename %>" class="staff-image" alt="Custom" />
                  </div>
                <% } %>
                <% if (profile.description) { %>
                  <p class="mt-3 mb-0"><%= profile.description %></p>
                <% } %>
                <% if (user && user.id === profile.user_id) { %>
                  <div class="mt-3"><a class="btn btn-sm btn-primary" href="/staff/edit">Edit</a></div>
                <% } %>
              </div>
            </div>
          </div>
        <% }) %>
      </div>
    </main>
    <%- include("../partials/footer") %>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
  </html>


